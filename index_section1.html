<script src="js/jquery.touchSwipe.min.js"></script>
      <script>
        $(document).ready(function(){
            var button =$('.pager > ul > li');
            var visual =$('.vis > ul > li');
            var current = 0;
            var setIntervalId;
            
            button.on({
                click:function(){
                    var tg = $(this);
                    var i =tg.index();
                    button.removeClass('tgg');
                    tg.addClass('tgg');
                    move(i);
                }
            });
            
            timer();
            $(".vis").on({
                mouseover:function(){
                    clearInterval(setIntervalId);
                },
                mouseout:function(){
                    timer();
                }
            });
            
            function timer(){
                setIntervalId = setInterval(function(){
                    var n = current + 1;
                    if(n == visual.length){
                        n = 0;
                    }
                    button.eq(n).trigger('click');
                }, 6000);
            }

            // 슬라이드 넘기기 왼쪽 -> 오른쪽
            function move(i){
                button.removeClass('tgg');
                button.eq(i).addClass('tgg');
                
                if(current == i) return;
                
                var current1 = visual.eq(current);  
                var next1 = visual.eq(i);
                
                current1.css({left:0}).stop().animate({left:'-100%'},1000);
                next1.css({left: '100%'}).stop().animate({left:0},1000);
                visual.find('.text_b').stop().animate({opacity: 0}, 500, function(){
                    visual.find('.text_b').stop().animate({opacity: 1})
                })
              
//                for(;;){
//                    var nextLeft = next1.offset().left;
//                    if(nextLeft == 0){
//                        $('.vis > ul> li').removeClass('ing');
//                        next1.addClass('ing')
//                    }
//                }
                
                current = i; 
            }
            // 슬라이드 넘기기 오른쪽 -> 왼쪽
            function move_pre(i){
                button.removeClass('tgg');
                button.eq(i).addClass('tgg');
                
                if(current == i) return; // 현재 페이지와 선택한 페이지 버튼이 같으면 아무것도 실행하지 않는다.
                
                var current1 = visual.eq(current); // 클릭 전 li
                var next1 = visual.eq(i);  // 현재 클릭한 li
                
            
                current1.css({left:0}).stop().animate({left:'100%'},1000);
                next1.css({left: '-100%'}).stop().animate({left:0},1000);
                
                 visual.find('.text_b').stop().animate({opacity: 0}, 800, function(){
                    visual.find('.text_b').stop().animate({opacity: 1})
                })
                
                current = i; 
            }
            
            $(".next1").on({
                click:function(){
                    var i = current + 1;
                    if(i >visual.length -1 ) i=0;
                    button.eq(i).trigger('click');

                }
            });
            $(".prev1").on({
                click:function(){
                    var i = current - 1;
                    if(i < 0) i = visual.length -1;
                    move_pre(i);
                }
            });
            
            visual.swipe({
                swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
                    if( direction == "left" ) {
                        var i = current + 1;
                        if(i >visual.length -1 ) i=0;
                        button.eq(i).trigger('click');
                    } else if( direction == "right" ) {
                        var i = current - 1;
                        if(i < 0) i = visual.length -1;
                        move_pre(i);
                        threshold:0
                    }
                },
            })
        });
    </script>
<div class="vis">
    <ul class="mov">
        <li class="list ing">
            <div class="text_b">
                <h3>2020 NEW PRODUCT </h3> 
                <h2>DESIGN</h2>
                <a href="products_individual.html" class="go">MORE INFO</a>
            </div>
        </li>
        <li>
            <div class="text_b">
                <h3>July In </h3> 
                <h2> Event</h2>
                <a href="community_event.html" class="go">MORE INFO</a>
            </div>
        </li>
        <li>
            <div class="text_b">
                <h3>PASTEL MORDEN </h3> 
                <h2>INTERIOR</h2>
                <a href="customer_notice.html" class="go">MORE INFO</a>
            </div>
        </li>        
    </ul>
</div>
<div class="bbtn">
        <ul>
            <li class="prev1"><img src="img/icon/arrow/prev_arrow_img.png" alt=""></li>
            <li class="next1"><img src="img/icon/arrow/next_arrow_img.png" alt=""></li>
        </ul>
    </div>
<div class="pager">
    <ul class="container_p">
        <li class="tgg"></li>
        <li></li>
        <li></li>
    </ul>
</div>